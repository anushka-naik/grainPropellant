<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!--<link rel="stylesheet" href="{{url_for('static', filename='css/styles.css')}}"> -->
        <link rel="preconnect" href="https://fonts.googleapis.com"> 
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> 
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="{{url_for('static', filename='css/styles.css')}}">
    </head>
    <body>
        
        

        <div class = "form">
            <div class="box">
                <form id = "CreateDB" action="/databaseReport" method="POST">
                    <table>
                        <thead>
                            <tr>
                                <th colspan="4">Create Database (csv) for Grain Propellant</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>    
                                <td> Diameter </td>
                                <td><input type="text" name="Dstart" placeholder="Range Start" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Dend" placeholder="Range End" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Dstep" placeholder="Step Size" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                            </tr>
                            <tr>
                                <td> Internal Diameter </td>
                                <td><input type="text" name="Distart" placeholder="Range Start" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Diend" placeholder="Range End" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Distep" placeholder="Step Size" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                            </tr>
                            <tr>
                                <td> Grain Length </td>
                                <td><input type="text" name="Gstart" placeholder="Range Start" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Gend" placeholder="Range End" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Gstep" placeholder="Step Size" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                            </tr>
                            <tr>
                                <td> Burn Rate Coefficient (a)</td>
                                <td><input type="text" name="astart" placeholder="Range Start" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="aend" placeholder="Range End" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="astep" placeholder="Step Size" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                            </tr>
                            <tr>
                                <td> Pressure </td>
                                <td><input type="text" name="Pstart" placeholder="Range Start" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Pend" placeholder="Range End" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Pstep" placeholder="Step Size" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                            </tr>
                            <tr>
                                <td> Burn Rate Coefficient (n) </td>
                                <td><input type="text" name="Nstart" placeholder="Range Start" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Nend" placeholder="Range End" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Nstep" placeholder="Step Size" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                            </tr>
                            <tr>
                                <td> Number of Holes </td>
                                <td><input type="text" name="Nhstart" placeholder="Range Start" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Nhend" placeholder="Range End" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Nhstep" placeholder="Step Size" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                            </tr>

                            <tr>
                                <td> C Star (C*) </td>
                                <td><input type="text" name="Cstart" placeholder="Range Start" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Cend" placeholder="Range End" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Cstep" placeholder="Step Size" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                            </tr>
                            <tr>
                                <td> Throat Diameter </td>
                                <td><input type="text" name="Dtstart" placeholder="Range Start" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Dtend" placeholder="Range End" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                                <td><input type="text" name="Dtstep" placeholder="Step Size" required pattern="[0-9]+(\.[0-9]+)?" title="Please enter a valid floating-point number"></td>
                            </tr>
                            
                            <!--<tr colspan=2>
                                <td> Step Size (For Volume/Surface Area) </td>
                                <td><input type="number" name="VolStep" placeholder="Volume Step" required></td>
                                <td><input type="number" name="SAStep" placeholder="SA Step" required></td>
                            </tr> -->
                            
                        </tbody>
                    </table>
                </div>
                <div class = "submit-btn">
                    <input type="submit" value = "Create Database" class="button"/>
                    <input type="button" value="Back" onclick="history.back()" class="button">
                    
                </div>
                <br>
            </form>
        </div>
        


        <script src="" async defer></script>
    </body>

    <script>
        var timeout;
        
        async function getStatus() {
        
          let get;
          
          try {
            const res = await fetch("/status");
            get = await res.json();
          } catch (e) {
            console.error("Error: ", e);
          }
          
          document.getElementById("innerStatus").innerHTML = get.status * 10 + "&percnt;";
          
          if (get.status == 10){
            document.getElementById("innerStatus").innerHTML += " Done.";
            clearTimeout(timeout);
            return false;
          }
           
          timeout = setTimeout(getStatus, 1000);
        }
        
        getStatus();
        </script>
</html>